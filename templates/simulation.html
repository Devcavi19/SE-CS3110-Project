{% extends "base.html" %}

{% block title %}Simulation{% endblock %}

{% block head %}
{{ super() }}
<style>
    .simulation-container {
        text-align: center;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 80vh;
    }
    .simulation-container h1 {
        color: #fff;
    }
    .simulation-gif {
        max-width: 100%;
        height: auto;
        display: none;
        margin: 0 auto;
    }
    .simulation-button {
        color: #fff;
        border: none;
        border-radius: 25px;
        padding: 12px 20px;
        cursor: pointer;
        width: 200px;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    .simulation-button.run {
        background: #28a745;
    }
    .simulation-button.run:hover {
        background: #218838;
        transform: scale(1.05);
    }
    .simulation-button.stop {
        background: #dc3545;
    }
    .simulation-button.stop:hover {
        background: #c82333;
        transform: scale(1.05);
    }
</style>
{% endblock %}

{% block content %}
<div class="simulation-container">
    <h1>Adaptive Traffic Signal Timer</h1>
    <button class="simulation-button run" onclick="toggleSimulation()" id="simButton">Run Simulation</button>
    <br>
    <img src="{{ url_for('static', filename='simulation/simulation.gif') }}" id="simulationGif" class="simulation-gif" alt="Simulation visualization">
</div>

<script>
    function toggleSimulation() {
        const gif = document.getElementById('simulationGif');
        const button = document.getElementById('simButton');
        
        if (gif.style.display === 'none' || gif.style.display === '') {
            gif.style.display = 'block';
            button.textContent = 'Stop Simulation';
            button.classList.remove('run');
            button.classList.add('stop');
        } else {
            gif.style.display = 'none';
            button.textContent = 'Run Simulation';
            button.classList.remove('stop');
            button.classList.add('run');
        }
    }
</script>
{% endblock %}